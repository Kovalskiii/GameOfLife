"use strict";(self.webpackChunkgame_of_life_prj=self.webpackChunkgame_of_life_prj||[]).push([[745],{1745:(v,m,l)=>{l.r(m),l.d(m,{HomeModule:()=>S});var p=l(8583),e=l(7716),g=l(1095);const f=["canvasEl"];let G=(()=>{class r{constructor(){this.gameStarted=!1,this.gameStopped=!1,this.gridIsFilled=!1}getInitialGrid(){return this.canvasEl.nativeElement.width=1400,this.canvasEl.nativeElement.height=700,this.resolution=10,this.colsNum=this.canvasEl.nativeElement.width/this.resolution,this.rowsNum=this.canvasEl.nativeElement.height/this.resolution,new Array(this.colsNum).fill(0).map(()=>new Array(this.rowsNum).fill(0))}randomizeInitialGrid(i){return i.map(t=>t.map(()=>Math.floor(2*Math.random())))}fillInitialGrid(i){if(!this.gameStarted){const t=this.canvasEl.nativeElement.getBoundingClientRect(),n=i.clientX-t.left,o=i.clientY-t.top,a=Math.floor(n/this.resolution),s=Math.floor(o/this.resolution);console.log("x: "+n+" y: "+o),console.log("xCol: "+a+" yRow: "+s),this.currentGridState[a][s]=0==this.currentGridState[a][s]?1:0,this.paintGridCells(this.currentGridState),this.gridIsFilled=!0}}getNextGenCells(){const i=this.currentGridState.map(t=>t.slice());for(let t=0;t<this.currentGridState.length;t++)for(let n=0;n<this.currentGridState[t].length;n++){const o=this.currentGridState[t][n];let a=0;for(let s=-1;s<2;s++)for(let d=-1;d<2;d++){if(0===s&&0===d)continue;const u=t+s,h=n+d;u>=0&&h>=0&&u<this.colsNum&&h<this.rowsNum&&(a+=this.currentGridState[t+s][n+d])}1===o&&a<2||1===o&&a>3?i[t][n]=0:0===o&&3===a&&(i[t][n]=1)}return i}paintGridCells(i){this.context=this.canvasEl.nativeElement.getContext("2d");for(let t=0;t<i.length;t++)for(let n=0;n<i[t].length;n++){const o=i[t][n];this.context.beginPath(),this.context.rect(t*this.resolution,n*this.resolution,this.resolution,this.resolution),this.context.fillStyle=o?"gray":"white",this.context.fill(),this.context.strokeStyle="lightgray",this.context.stroke()}}updateGrid(){this.gameStopped||(this.currentGridState=this.getNextGenCells(),this.paintGridCells(this.currentGridState),this.animReqId=requestAnimationFrame(this.updateGrid.bind(this)))}startGame(){this.animReqId=requestAnimationFrame(this.updateGrid.bind(this)),this.gameStarted=!0,this.gameStopped=!1}stopGame(){this.animReqId&&(cancelAnimationFrame(this.animReqId),this.gameStarted=!1,this.gameStopped=!0)}clearGrid(){this.stopGame(),this.currentGridState=this.getInitialGrid(),this.paintGridCells(this.currentGridState),this.gameStopped=!1,this.gridIsFilled=!1}randomizeGrid(){const i=this.getInitialGrid();this.currentGridState=this.randomizeInitialGrid(i),this.paintGridCells(this.currentGridState),this.gridIsFilled=!0}ngAfterViewInit(){const i=this.getInitialGrid();this.paintGridCells(i),this.currentGridState=i}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],viewQuery:function(i,t){if(1&i&&e.Gf(f,5),2&i){let n;e.iGM(n=e.CRH())&&(t.canvasEl=n.first)}},decls:13,vars:4,consts:[[1,"content"],["id","canvas","width","1400","height","700",3,"click"],["canvasEl",""],[1,"game-buttons"],["mat-raised-button","","id","start-btn","color","primary",3,"disabled","click"],["startBtn",""],["mat-raised-button","","id","stop-btn","color","warn",3,"disabled","click"],["mat-raised-button","","id","clear-btn","color","basic",3,"disabled","click"],["mat-raised-button","","id","randomize-btn","color","basic",3,"disabled","click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"canvas",1,2),e.NdJ("click",function(o){return t.fillInitialGrid(o)}),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"button",4,5),e.NdJ("click",function(){return t.startGame()}),e._uU(6," Start "),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return t.stopGame()}),e._uU(8," Stop "),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return t.clearGrid()}),e._uU(10," Clear "),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return t.randomizeGrid()}),e._uU(12," Randomize "),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("disabled",t.gameStarted||!t.gameStopped&&!t.gridIsFilled),e.xp6(3),e.Q6J("disabled",!t.gameStarted),e.xp6(2),e.Q6J("disabled",t.gameStarted||!t.gameStopped&&!t.gridIsFilled),e.xp6(2),e.Q6J("disabled",t.gameStarted||t.gameStopped))},directives:[g.lW],styles:[".full-width-image[_ngcontent-%COMP%]{background:url(https://cdn.wallpapersafari.com/37/1/aK9Cri.png) no-repeat center center fixed}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;align-self:center;margin-top:50px;margin-bottom:50px}canvas[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.35);transition:.3s;border-radius:4px;background-color:#d3d3d3}.game-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;flex-wrap:nowrap;align-content:center;align-items:center}#start-btn[_ngcontent-%COMP%], #stop-btn[_ngcontent-%COMP%], #clear-btn[_ngcontent-%COMP%], #randomize-btn[_ngcontent-%COMP%]{padding:2px 6px;margin:1.5rem 15px 20px;background-color:#0077b5}"]}),r})();var b=l(15),C=l(3466);let S=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,b.Bz.forChild([{path:"",component:G}]),C.q]]}),r})()}}]);